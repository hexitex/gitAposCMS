<div class="{{ data.widget._id }}" data-dom="square">
    {# To loop all image using set (To Array) #}
    {% set image = apos
        .images
        .all(data.widget.squareGallery) %}
    {% for loop in image %}
    <div id="square-children" style="aspect-ratio: 1 / 1;background-size:cover;overflow:hidden;background-image:url('{{ apos.attachments.url(loop , { size : data.widget.thumbImageSize if data.widget.thumbImageSize else 'one-third' , edit : false }) }}');
    {% if apos.attachments.hasFocalPoint(loop) %} 
            background-position : {{ apos.attachments.focalPointToBackgroundPosition(loop) }};
    {% endif %}">
     <a href="{{ apos.attachments.url(loop , { size : data.widget.fullImageSize if data.widget.fullImageSize else '720p', edit : false }) }}" 
            class="image-viewer" data-gall="{{ data.widget.squareName }}" 
            data-title="{{ loop.title }}" 
            style="opacity:1;width:100%;height:100%">
            <div style="min-height:100%;min-width:100%;"></div>
    </a>
    </div>    
    {% endfor %}
</div>